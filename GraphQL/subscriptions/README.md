# **Subscriptions**

GraphQL은 query와 mutation 외에도 **subscriptions**을 지원한다.

쿼리와 마찬가지로 구독을 통해 데이터를 가져올 수 있다. 쿼리와 달리 구독은 시간이 지남에 따라 결과가 변경될 수 있는 오래 지속되는 작업이다. 이것은 GraphQL서버(보편적으로 webSocket을 통해)에 대한 활성 연결을 유지하여 서버가 구독 결과에 대한 업데이트를 푸시할 수 있도록 한다.

구독은 새 객체 생성 또는 중요한 필드 업데이트와 같은 백엔드 데이터의 변경 사항에 대해 클라이언트에게 실시간으로 알리는데 유용하다.

### subscription을 사용하는 경우

단순히 백엔드를 최신 상태로 유지하기 위해 subscription을 사용해서는 안된다.

다음과 같은 경우 구독을 사용해야 한다.

- **큰 객체에 대한 작은 증분 변경.** 큰 객체에 대한 반복 폴링은 특히 대부분의 객체 필드가 거의 변경되지 않는 경우 비용이 많이 든다. 대신 쿼리를 사용하여 객체의 초기 상태를 가져올 수 있으며 서버는 업데이트가 발생할 때마다 개별 필드에 업데이트를 사전에 푸시할 수 있다.
- **대기 시간이 짧은 실시간 업데이트**. 예를 들어, 채팅 어플리케이션의 클라이언트는 새 메시지를 사용할 수 있게 되는 즉시 받기를 원한다.
